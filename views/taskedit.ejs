<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Edit Task</title>
    <link rel="stylesheet" href="/task.css"> <!-- Link your CSS file -->
    <link rel="shortcut icon" href="/image/logo.jpeg" type="image/x-icon">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
</head>

<body>
    <div class="navbar">
        <a class="navbar-brand">Edit Task</a>
        <a href="/logout" class="logout-btn">Logout</a>
    </div>
    <div class="container">
        <header>
            <h1>Edit Task</h1>
        </header>
        <main>
            <form id="taskForm" action="/addtask/update/<%= task._id %>" method="POST" class="task-form">
                <input type="hidden" id="userId" name="userId" value="<%= task._id %>" readonly>
                
                <div class="form-group">
                    <label for="taskName">Task:</label>
                    <input type="text" id="taskName" name="taskName" required value="<%= task.taskName %>">
                </div>
                <div class="form-group">
                    <label for="taskDescription">Comment:</label>
                    <textarea id="taskDescription" name="taskDescription" rows="4" class="comment-box" placeholder="Enter your comment"><%= task.taskDescription %></textarea>
                </div>
                <div class="form-group">
                    <label for="priority">Priority:</label>
                    <select id="priority" name="priority" required>
                        <option value="high" <%= task.priority === 'high' ? 'selected' : '' %>>High</option>
                        <option value="medium" <%= task.priority === 'medium' ? 'selected' : '' %>>Medium</option>
                        <option value="low" <%= task.priority === 'low' ? 'selected' : '' %>>Low</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="assigneDate">Assign Date:</label>
                    <input type="date" value="<%= task.assigneDate.toISOString().split('T')[0] %>" id="assigneDate" name="assigneDate" required>
                </div>
                <div class="form-group">
                    <label for="targetDate">Target Date:</label>
                    <input type="date" value="<%= task.targetDate.toISOString().split('T')[0] %>" id="targetDate" name="targetDate" required>
                </div>
                <div class="form-group">
                    <label for="taskCompleted">Status:</label>
                    <select id="taskCompleted" name="taskCompleted" required>
                        <option value="true" <%= task.taskCompleted ? 'selected' : '' %>>Completed</option>
                        <option value="false" <%= !task.taskCompleted ? 'selected' : '' %>>Incomplete</option>
                    </select>
                </div>
                <div class="btn-container">
                    <button type="submit" class="btn">Update Task</button>
                </div>
            </form>
        </main>
    </div>
</body>

</html>
